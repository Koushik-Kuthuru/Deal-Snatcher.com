<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Earn Money - Deal-Snatcher</title>
    <meta name="description"
        content="Earn money with referral programs from apps, credit cards, debit cards, and loans. Get rewards for referring friends and family to trusted platforms.">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#fef2f2',
                            100: '#fee2e2',
                            200: '#fecaca',
                            300: '#fca5a5',
                            400: '#f87171',
                            500: '#DC2626',
                            600: '#B91C1C',
                            700: '#991b1b',
                            800: '#7f1d1d',
                            900: '#450a0a'
                        },
                        secondary: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e'
                        },
                        accent: {
                            50: '#fefce8',
                            100: '#fef9c3',
                            200: '#fef08a',
                            300: '#fde047',
                            400: '#facc15',
                            500: '#eab308',
                            600: '#ca8a04',
                            700: '#a16207',
                            800: '#854d0e',
                            900: '#713f12'
                        },
                        success: {
                            50: '#f0fdf4',
                            100: '#dcfce7',
                            200: '#bbf7d0',
                            300: '#86efac',
                            400: '#4ade80',
                            500: '#22c55e',
                            600: '#16a34a',
                            700: '#15803d',
                            800: '#166534',
                            900: '#14532d'
                        }
                    }
                }
            },
            plugins: [
                function ({ addUtilities }) {
                    addUtilities({
                        '.scrollbar-hide': {
                            /* IE and Edge */
                            '-ms-overflow-style': 'none',
                            /* Firefox */
                            'scrollbar-width': 'none',
                            /* Safari and Chrome */
                            '&::-webkit-scrollbar': {
                                display: 'none'
                            }
                        }
                    })
                }
            ]
        }
    </script>

    <!-- Responsive Card Styling -->
    <style>
        /* Square card styling */
        .app-card {
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        /* Responsive adjustments */
        @media (max-width: 640px) {
            .app-card {
                aspect-ratio: 1.2;
                /* Slightly taller on mobile */
            }
        }

        @media (min-width: 641px) and (max-width: 1024px) {
            .app-card {
                aspect-ratio: 1.1;
                /* Slightly taller on tablet */
            }
        }

        @media (min-width: 1025px) {
            .app-card {
                aspect-ratio: 1;
                /* Perfect square on desktop */
            }
        }

        /* Ensure proper spacing */
        .main-content {
            max-width: 1280px;
            margin: 0 auto;
        }

        /* Card content spacing */
        .card-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 1.5rem;
        }

        /* Logo sizing */
        .card-logo {
            width: 4rem;
            height: 4rem;
            margin: 0 auto 1rem;
        }

        /* Text sizing for different screens */
        @media (max-width: 640px) {
            .card-title {
                font-size: 1rem;
                line-height: 1.25rem;
            }

            .card-description {
                font-size: 0.875rem;
                line-height: 1.25rem;
            }
        }

        @media (min-width: 641px) {
            .card-title {
                font-size: 1.125rem;
                line-height: 1.5rem;
            }

            .card-description {
                font-size: 0.875rem;
                line-height: 1.25rem;
            }
        }

        /* Toggle Switch Animation */
        #themeToggle:checked+label .relative>div:last-child {
            transform: translateX(1.5rem);
        }

        #themeToggle:checked+label .relative>div:first-child {
            background-color: #10b981;
        }
    </style>

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6381260263392114"
        crossorigin="anonymous"></script>
</head>

<body class="bg-gray-50 dark:bg-gray-900 transition-colors">
    <!-- Header -->
    <header class="bg-white dark:bg-gray-800 shadow-lg sticky top-0 z-50 transition-colors">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <a href="/" class="flex items-center hover:opacity-80 transition-opacity">
                    <img src="images/deal-snatcher-logo.png" alt="Deal-Snatcher Logo" class="h-10 w-auto mr-3">
                    <div>
                        <h1 class="text-2xl font-bold text-primary-500 dark:text-primary-400">Deal-Snatcher</h1>
                    </div>
                </a>

                <!-- Desktop Navigation -->
                <nav class="hidden md:flex items-center space-x-8">
                    <div class="relative group">
                        <button
                            class="text-gray-700 dark:text-gray-300 hover:text-primary-500 dark:hover:text-primary-400 transition-colors flex items-center">
                            <i class="fas fa-th-large mr-2"></i>Categories
                            <i class="fas fa-chevron-down ml-1 text-xs"></i>
                        </button>
                        <div
                            class="absolute top-full left-0 mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                            <div class="py-2">
                                <a href="/"
                                    class="category-link block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"
                                    data-category="all">
                                    <i class="fas fa-th-large mr-2"></i>All Products
                                </a>
                                <a href="/"
                                    class="category-link block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"
                                    data-category="gadgets">
                                    <i class="fas fa-mobile-alt mr-2"></i>Gadgets
                                </a>
                                <a href="/"
                                    class="category-link block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"
                                    data-category="home">
                                    <i class="fas fa-home mr-2"></i>Home & Living
                                </a>
                                <a href="/"
                                    class="category-link block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"
                                    data-category="tech">
                                    <i class="fas fa-laptop mr-2"></i>Tech
                                </a>
                                <a href="/"
                                    class="category-link block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"
                                    data-category="outdoor">
                                    <i class="fas fa-hiking mr-2"></i>Outdoor
                                </a>
                            </div>
                        </div>
                    </div>
                    <a href="gift-guide.html"
                        class="text-gray-700 dark:text-gray-300 hover:text-primary-500 dark:hover:text-primary-400 transition-colors">Gift
                        Guide</a>
                    <a href="earn.html" class="text-primary-500 dark:text-primary-400 font-semibold">Earn</a>
                    <a href="about.html"
                        class="text-gray-700 dark:text-gray-300 hover:text-primary-500 dark:hover:text-primary-400 transition-colors">About</a>
                </nav>

                <div class="flex items-center space-x-4">
                    <!-- Search Bar -->
                    <div class="hidden md:block relative">
                        <input type="text" id="navSearchInput" placeholder="Search products..."
                            class="w-64 px-4 py-2 pl-10 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors">
                        <i
                            class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"></i>
                    </div>

                    <!-- Mobile Menu Button -->
                    <button id="mobileMenuBtn" class="md:hidden text-gray-700 dark:text-gray-300">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobileMenu"
            class="md:hidden bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 hidden">
            <div class="px-4 py-2 space-y-1">
                <!-- Mobile Search -->
                <div class="border-b border-gray-200 dark:border-gray-700 pb-2 mb-2">
                    <div class="relative">
                        <input type="text" id="mobileNavSearchInput" placeholder="Search products..."
                            class="w-full px-4 py-2 pl-10 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors">
                        <i
                            class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"></i>
                    </div>
                </div>
                <div class="py-2">
                    <div class="text-sm font-semibold text-gray-500 dark:text-gray-400 mb-2">Categories</div>
                    <a href="/"
                        class="category-link block px-3 py-2 text-gray-700 dark:text-gray-300 hover:text-primary-500 dark:hover:text-primary-400 transition-colors"
                        data-category="all">
                        <i class="fas fa-th-large mr-2"></i>All Products
                    </a>
                    <a href="/"
                        class="category-link block px-3 py-2 text-gray-700 dark:text-gray-300 hover:text-primary-500 dark:hover:text-primary-400 transition-colors"
                        data-category="gadgets">
                        <i class="fas fa-mobile-alt mr-2"></i>Gadgets
                    </a>
                    <a href="/"
                        class="category-link block px-3 py-2 text-gray-700 dark:text-gray-300 hover:text-primary-500 dark:hover:text-primary-400 transition-colors"
                        data-category="home">
                        <i class="fas fa-home mr-2"></i>Home & Living
                    </a>
                    <a href="/"
                        class="category-link block px-3 py-2 text-gray-700 dark:text-gray-300 hover:text-primary-500 dark:hover:text-primary-400 transition-colors"
                        data-category="tech">
                        <i class="fas fa-laptop mr-2"></i>Tech
                    </a>
                    <a href="/"
                        class="category-link block px-3 py-2 text-gray-700 dark:text-gray-300 hover:text-primary-500 dark:hover:text-primary-400 transition-colors"
                        data-category="outdoor">
                        <i class="fas fa-hiking mr-2"></i>Outdoor
                    </a>
                </div>
                <a href="gift-guide.html"
                    class="block px-3 py-2 text-gray-700 dark:text-gray-300 hover:text-primary-500 dark:hover:text-primary-400 transition-colors">Gift
                    Guide</a>
                <a href="earn.html"
                    class="block px-3 py-2 text-primary-500 dark:text-primary-400 font-semibold">Earn</a>
                <a href="about.html"
                    class="block px-3 py-2 text-gray-700 dark:text-gray-300 hover:text-primary-500 dark:hover:text-primary-400 transition-colors">About</a>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section
        class="bg-gradient-to-r from-primary-500 via-secondary-500 to-accent-500 dark:from-primary-600 dark:via-secondary-600 dark:to-accent-600 text-white py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h1 class="text-4xl md:text-6xl font-bold mb-4">Earn Money</h1>
            <p class="text-xl md:text-2xl mb-8 opacity-90">Get rewards from apps, credit cards, debit cards, and loans.
                Start earning today!</p>
        </div>
    </section>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Apps Grid -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto" id="appsGrid">
            <!-- Apps will be dynamically loaded here -->
        </div>
    </main>

    <!-- App Details Modal -->
    <div id="appModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 overflow-hidden">
        <div class="flex items-center justify-center min-h-screen p-2 sm:p-4">
            <div
                class="bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full h-[95vh] sm:h-[90vh] flex flex-col transition-colors">
                <!-- Fixed Header with close button -->
                <div
                    class="flex justify-between items-center p-3 sm:p-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0">
                    <h2 id="modalAppName"
                        class="text-lg sm:text-2xl font-bold text-gray-900 dark:text-white truncate pr-2"></h2>
                    <button id="closeAppModalBtn"
                        class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-xl sm:text-2xl hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full p-2 transition-colors flex-shrink-0">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <!-- Mobile Layout: Stack vertically on small screens -->
                <div class="flex flex-col lg:flex-row flex-1 overflow-hidden">
                    <!-- App Info Section -->
                    <div class="w-full lg:w-1/3 p-3 sm:p-6 flex flex-col bg-gray-50 dark:bg-gray-900 lg:bg-transparent">
                        <!-- App Logo -->
                        <div class="mb-3 sm:mb-4 flex-shrink-0 text-center">
                            <img id="modalAppLogo" src="" alt=""
                                class="w-20 h-20 sm:w-32 sm:h-32 mx-auto rounded-2xl shadow-lg">
                        </div>

                        <!-- App Rating -->
                        <div class="mb-3 sm:mb-4 flex-shrink-0 text-center">
                            <div id="modalAppRating" class="flex text-yellow-400 justify-center mb-1 sm:mb-2"></div>
                            <span id="modalAppRatingText"
                                class="text-xs sm:text-sm text-gray-600 dark:text-gray-400"></span>
                        </div>

                        <!-- Referral Reward -->
                        <div class="mb-3 sm:mb-4 flex-shrink-0 text-center">
                            <div
                                class="bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-3 py-2 sm:px-4 sm:py-2 rounded-lg">
                                <div class="text-lg sm:text-2xl font-bold">₹<span id="modalRewardAmount">100</span>
                                </div>
                                <div class="text-xs sm:text-sm">Referral Reward</div>
                            </div>
                        </div>

                        <!-- Referral Code -->
                        <div class="mb-3 sm:mb-4">
                            <div
                                class="flex items-center justify-between bg-gray-100 dark:bg-gray-700 rounded-lg p-2 sm:p-3">
                                <div class="flex-1 min-w-0">
                                    <span class="text-xs sm:text-sm text-gray-600 dark:text-gray-400">Referral
                                        Code:</span>
                                    <div id="referralCode"
                                        class="font-mono font-bold text-sm sm:text-lg text-primary-500 dark:text-primary-400 truncate">
                                    </div>
                                </div>
                                <button id="copyRefCodeBtn"
                                    class="text-gray-500 hover:text-primary-500 transition-colors p-1 sm:p-2 hover:bg-gray-200 dark:hover:bg-gray-600 rounded flex-shrink-0 ml-2">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Download Button -->
                        <div class="flex-shrink-0">
                            <a id="downloadBtn" href="#" target="_blank"
                                class="w-full bg-primary-500 text-white py-2 sm:py-3 rounded-lg hover:bg-primary-600 transition-colors inline-block text-center shadow-lg hover:shadow-xl font-semibold text-sm sm:text-base">
                                <i class="fas fa-download mr-1 sm:mr-2"></i>Download & Earn
                            </a>
                        </div>
                    </div>

                    <!-- App Details Section -->
                    <div class="w-full lg:w-2/3 p-3 sm:p-6 overflow-y-auto scrollbar-hide bg-white dark:bg-gray-800">
                        <!-- App Description -->
                        <div class="mb-4 sm:mb-6">
                            <h3 class="text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-2">About this
                                App</h3>
                            <p id="modalAppDescription"
                                class="text-sm sm:text-base text-gray-600 dark:text-gray-400 leading-relaxed"></p>
                        </div>

                        <!-- How to Earn -->
                        <div class="mb-4 sm:mb-6">
                            <h3 class="text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-2">How to
                                Earn ₹<span id="modalEarnAmount">100</span></h3>
                            <div id="modalEarningSteps" class="space-y-2 sm:space-y-3">
                                <!-- Steps will be dynamically added here -->
                            </div>
                        </div>

                        <!-- Features -->
                        <div class="mb-4 sm:mb-6">
                            <h3 class="text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-2">App
                                Features</h3>
                            <ul id="modalAppFeatures"
                                class="text-sm sm:text-base text-gray-600 dark:text-gray-400 space-y-1">
                                <!-- Features will be dynamically added here -->
                            </ul>
                        </div>

                        <!-- Terms & Conditions -->
                        <div class="mb-4 sm:mb-6">
                            <h3 class="text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-2">Terms &
                                Conditions</h3>
                            <ul id="modalTerms" class="text-xs sm:text-sm text-gray-600 dark:text-gray-400 space-y-1">
                                <!-- Terms will be dynamically added here -->
                            </ul>
                        </div>

                        <!-- Additional Info -->
                        <div class="pt-4 sm:pt-6 border-t border-gray-200 dark:border-gray-700">
                            <div
                                class="grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 text-xs sm:text-sm text-gray-600 dark:text-gray-400">
                                <div>
                                    <span class="font-semibold">Platform:</span><br>
                                    <span id="modalPlatform">Android & iOS</span>
                                </div>
                                <div>
                                    <span class="font-semibold">Payment:</span><br>
                                    <span id="modalPayment">UPI, Bank Transfer</span>
                                </div>
                                <div>
                                    <span class="font-semibold">Minimum:</span><br>
                                    <span id="modalMinimum">₹50</span>
                                </div>
                                <div>
                                    <span class="font-semibold">Support:</span><br>
                                    <span id="modalSupport">24/7 WhatsApp</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-900 dark:bg-gray-950 text-white py-12 transition-colors">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center mb-4">
                        <img src="images/deal-snatcher-logo.png" alt="Deal-Snatcher" class="h-8 w-auto mr-3">
                        <h3 class="text-xl font-bold">Deal-Snatcher</h3>
                    </div>
                    <p class="text-gray-400">Discover the coolest products and gadgets from around the world.</p>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Categories</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#" class="hover:text-white transition-colors">Gadgets</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Home & Living</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Tech</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Outdoor</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Support</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="contact.html" class="hover:text-white transition-colors">Contact Us</a></li>
                        <li><a href="faq.html" class="hover:text-white transition-colors">FAQ</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Follow Us</h4>
                    <div class="flex space-x-4 mb-4">
                        <a href="https://www.facebook.com/share/17DjtcdQAs/" target="_blank" rel="noopener noreferrer"
                            class="text-gray-400 hover:text-white transition-colors">
                            <i class="fab fa-facebook text-xl"></i>
                        </a>
                        <a href="https://www.reddit.com/u/DealSnatcher/s/MohHMOO7QX" target="_blank"
                            rel="noopener noreferrer" class="text-gray-400 hover:text-white transition-colors">
                            <i class="fab fa-reddit text-xl"></i>
                        </a>
                        <a href="https://www.instagram.com/dealsnatcher_official?igsh=dHh1ajR5dHFxdDB3" target="_blank"
                            rel="noopener noreferrer" class="text-gray-400 hover:text-white transition-colors">
                            <i class="fab fa-instagram text-xl"></i>
                        </a>
                        <a href="https://youtube.com/@deal-snatcher?si=_mScYbHh7JHbjWBu" target="_blank"
                            rel="noopener noreferrer" class="text-gray-400 hover:text-white transition-colors">
                            <i class="fab fa-youtube text-xl"></i>
                        </a>
                    </div>
                    <!-- Theme Toggle -->
                    <div class="flex items-center space-x-3">
                        <span class="text-gray-400 text-sm">Theme:</span>
                        <div class="relative">
                            <input type="checkbox" id="themeToggle" class="sr-only">
                            <label for="themeToggle" class="flex items-center cursor-pointer">
                                <div class="relative">
                                    <div
                                        class="w-12 h-6 bg-gray-600 rounded-full shadow-inner transition-colors duration-300 ease-in-out">
                                    </div>
                                    <div
                                        class="absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow transition-transform duration-300 ease-in-out">
                                    </div>
                                </div>
                                <span class="ml-2 text-gray-400 text-sm">
                                    <i id="themeIcon" class="fas fa-moon"></i>
                                </span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2025 Deal-Snatcher. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script src="global-search.js"></script>


    <!-- Chatbot CSS -->
    <style>
        .chatbot-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }

        .chatbot-window {
            width: 350px;
            height: 500px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            display: none;
            flex-direction: column;
            overflow: hidden;
        }

        .chatbot-header {
            background: linear-gradient(135deg, #DC2626, #B91C1C);
            color: white;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chatbot-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            background: #f8f9fa;
        }

        .message {
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
        }

        .message.user {
            justify-content: flex-end;
        }

        .message.bot {
            justify-content: flex-start;
        }

        .message-content {
            max-width: 80%;
            padding: 10px 15px;
            border-radius: 18px;
            word-wrap: break-word;
        }

        .message.user .message-content {
            background: #DC2626;
            color: white;
            border-bottom-right-radius: 5px;
        }

        .message.bot .message-content {
            background: white;
            color: #333;
            border: 1px solid #e5e7eb;
            border-bottom-left-radius: 5px;
        }

        .message-avatar {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            margin: 0 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        .message.user .message-avatar {
            background: #DC2626;
            color: white;
        }

        .message.bot .message-avatar {
            background: #f3f4f6;
            color: #DC2626;
        }

        .chatbot-buttons {
            padding: 15px;
            border-top: 1px solid #e5e7eb;
        }

        .quick-reply-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
        }

        .quick-reply-btn {
            background: #f8f9fa;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 12px 8px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            font-size: 12px;
            color: #374151;
        }

        .quick-reply-btn:hover {
            background: #DC2626;
            color: white;
            border-color: #DC2626;
            transform: translateY(-2px);
        }

        .quick-reply-btn i {
            font-size: 16px;
        }

        .chatbot-toggle {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #DC2626, #B91C1C);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(220, 38, 38, 0.3);
            transition: transform 0.3s;
        }

        .chatbot-toggle:hover {
            transform: scale(1.1);
        }

        .typing-indicator {
            display: none;
            align-items: center;
            gap: 5px;
            padding: 10px 15px;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 18px;
            border-bottom-left-radius: 5px;
            max-width: 80px;
        }

        .typing-dot {
            width: 6px;
            height: 6px;
            background: #DC2626;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {

            0%,
            60%,
            100% {
                transform: translateY(0);
            }

            30% {
                transform: translateY(-10px);
            }
        }

        .quick-replies {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .quick-reply {
            background: #f3f4f6;
            border: 1px solid #d1d5db;
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quick-reply:hover {
            background: #DC2626;
            color: white;
            border-color: #DC2626;
        }

        .dark .chatbot-window {
            background: #1f2937;
            color: white;
        }

        .dark .chatbot-messages {
            background: #111827;
        }

        .dark .message.bot .message-content {
            background: #374151;
            color: white;
            border-color: #4b5563;
        }

        .dark .chatbot-input {
            border-color: #4b5563;
        }

        .dark .chatbot-input input {
            background: #374151;
            color: white;
            border-color: #4b5563;
        }

        .dark .typing-indicator {
            background: #374151;
            border-color: #4b5563;
        }

        .dark .quick-reply {
            background: #374151;
            color: white;
            border-color: #4b5563;
        }

        @keyframes slideIn {
            from {
                transform: translateY(100%);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
    </style>

    <!-- Chatbot JavaScript -->
    <script>
        // Deal-Snatcher Chatbot JavaScript
        class DealSnatcherChatbot {
            constructor() {
                this.isOpen = false;
                this.messages = [];
                this.knowledgeBase = this.initializeKnowledgeBase();
                this.quickReplies = [
                    "What products do you have?",
                    "How do referral codes work?",
                    "What are the best deals?",
                    "How to earn money?",
                    "Tell me about credit cards",
                    "Contact support",
                    "About Deal-Snatcher"
                ];
                this.init();
            }

            init() {
                this.addWelcomeMessage();
                this.loadChatHistory();
            }

            initializeKnowledgeBase() {
                return {
                    // General site information
                    "about": {
                        keywords: ["about", "what is", "deal-snatcher", "website", "site"],
                        responses: [
                            "Deal-Snatcher is your one-stop destination for amazing products, cool gadgets, and unique items at great prices! We feature products from various categories including tech, home, outdoor, and gadgets.",
                            "We also offer referral programs where you can earn money by referring friends to popular earn.",
                            "Our mission is to help you discover the best deals and earn money through referrals!"
                        ]
                    },

                    // Products and deals
                    "products": {
                        keywords: ["products", "deals", "gadgets", "items", "buy", "purchase", "shop"],
                        responses: [
                            "We have amazing products across multiple categories:",
                            "🔹 Tech: Wireless chargers, powerbanks, smart devices",
                            "🔹 Home & Living: Kitchen gadgets, home decor, appliances",
                            "🔹 Outdoor: Camping gear, sports equipment, travel accessories",
                            "🔹 Gadgets: Cool tech accessories, phone accessories, innovative products",
                            "All products come with detailed descriptions, multiple images, and YouTube videos for better understanding!"
                        ]
                    },

                    // Referral programs
                    "referral": {
                        keywords: ["referral", "code", "earn", "money", "reward", "cashback", "app", "credit card", "debit card", "loan"],
                        responses: [
                            "We offer referral programs for apps, credit cards, debit cards, and loans! Here's how it works:",
                            "🔹 Copy the referral code from our earn section",
                            "🔹 Download the app or apply for financial products using our link",
                            "🔹 Use the referral code during signup/application",
                            "🔹 Complete the required actions (verification, first transaction, etc.)",
                            "🔹 Earn rewards ranging from ₹20 to ₹2000 per referral!",
                            "We have apps like POP UPI, Google Pay, mPokket, credit cards like Edge+ CSB Bank, SuperMoney, and more!"
                        ]
                    },

                    // Financial products
                    "financial": {
                        keywords: ["credit card", "debit card", "loan", "personal loan", "home loan", "financial", "banking"],
                        responses: [
                            "We offer referral programs for financial products! Here's what's available:",
                            "💳 Credit Cards: Edge+ CSB Bank RuPay (₹500 reward), SuperMoney Credit Card (₹250 reward)",
                            "🏦 Debit Cards: Various bank debit cards with cashback offers",
                            "💰 Loans: Personal loans and home loans with referral bonuses",
                            "🔹 Apply using our referral links and codes",
                            "🔹 Get approved and earn rewards ranging from ₹200 to ₹2000!",
                            "All financial products come with referral codes for easy application!"
                        ]
                    },

                    // Gift guides
                    "gifts": {
                        keywords: ["gift", "gifts", "present", "men", "women", "mom", "dad", "boyfriend", "girlfriend"],
                        responses: [
                            "We have comprehensive gift guides for everyone!",
                            "🎁 Men's Gifts: Tech gadgets, gaming accessories, tools",
                            "🎁 Women's Gifts: Jewelry, beauty products, fashion accessories",
                            "🎁 Mom's Gifts: Kitchen appliances, home decor, wellness products",
                            "🎁 Dad's Gifts: Tech gadgets, outdoor gear, tools",
                            "🎁 Watches & Perfumes: Luxury timepieces and fragrances",
                            "Each category has carefully curated products perfect for gifting!"
                        ]
                    },

                    // Support and contact
                    "support": {
                        keywords: ["support", "help", "contact", "problem", "issue", "complaint"],
                        responses: [
                            "We're here to help! You can reach us through:",
                            "📧 Email: support@deal-snatcher.com",
                            "📱 Phone: +91-XXXX-XXXX-XX",
                            "💬 Live Chat: Available 24/7",
                            "📝 Contact Form: Visit our contact page",
                            "We typically respond within 24 hours!"
                        ]
                    },

                    // Pricing and discounts
                    "pricing": {
                        keywords: ["price", "cost", "discount", "sale", "cheap", "expensive", "affordable"],
                        responses: [
                            "Our products are competitively priced with great discounts!",
                            "💰 Most products have 20-50% discounts",
                            "🚚 Free delivery on orders above ₹499",
                            "💳 Multiple payment options available",
                            "🔄 7-day return policy",
                            "🛡️ 1-year manufacturer warranty",
                            "Prices are inclusive of all taxes!"
                        ]
                    },

                    // Categories
                    "categories": {
                        keywords: ["category", "categories", "tech", "home", "outdoor", "gadgets"],
                        responses: [
                            "We have products in these main categories:",
                            "📱 Tech: Smartphones, accessories, chargers, powerbanks",
                            "🏠 Home & Living: Kitchen gadgets, home decor, appliances",
                            "🏔️ Outdoor: Camping gear, sports equipment, travel accessories",
                            "⚡ Gadgets: Cool tech accessories, innovative products",
                            "You can filter products by category on our main page!"
                        ]
                    },

                    // How to use the site
                    "usage": {
                        keywords: ["how to", "use", "navigate", "search", "filter", "sort"],
                        responses: [
                            "Using Deal-Snatcher is easy! Here's how:",
                            "🔍 Search: Use the search bar to find specific products",
                            "🏷️ Filter: Click category buttons to filter products",
                            "📊 Sort: Use the dropdown to sort by price, rating, or newest",
                            "👆 Click: Click any product to see detailed information",
                            "📱 Mobile: Fully responsive - works great on mobile devices",
                            "🌙 Theme: Toggle between light and dark themes"
                        ]
                    },

                    // Fallback responses
                    "default": {
                        responses: [
                            "I'm not sure I understand that. Could you rephrase your question?",
                            "I can help you with information about products, referral programs, gift guides, or general site questions. What would you like to know?",
                            "Let me know if you need help with products, deals, referral codes, or anything else about Deal-Snatcher!"
                        ]
                    }
                };
            }

            addWelcomeMessage() {
                const welcomeMessage = {
                    type: 'bot',
                    content: "Hi! I'm the Deal-Snatcher bot. I can help you with:",
                    timestamp: new Date()
                };

                this.addQuickReplies(welcomeMessage);
                this.displayMessage(welcomeMessage);

                // Add quick replies
                setTimeout(() => {
                    this.addQuickRepliesToUI();
                }, 500);
            }

            addQuickReplies(message) {
                message.quickReplies = this.quickReplies;
            }

            addQuickRepliesToUI() {
                const messagesContainer = document.getElementById('chatbotMessages');
                const quickRepliesDiv = document.createElement('div');
                quickRepliesDiv.className = 'quick-replies';
                quickRepliesDiv.id = 'quickReplies';

                this.quickReplies.forEach(reply => {
                    const button = document.createElement('button');
                    button.className = 'quick-reply';
                    button.textContent = reply;
                    button.onclick = () => this.sendQuickReply(reply);
                    quickRepliesDiv.appendChild(button);
                });

                messagesContainer.appendChild(quickRepliesDiv);
            }

            sendQuickReply(reply) {
                // Remove quick replies
                const quickReplies = document.getElementById('quickReplies');
                if (quickReplies) {
                    quickReplies.remove();
                }

                // Send the quick reply as a user message
                this.addMessage('user', reply);
                this.processMessage(reply);
            }

            toggleChatbot() {
                const chatbotWindow = document.getElementById('chatbotWindow');
                this.isOpen = !this.isOpen;

                if (this.isOpen) {
                    chatbotWindow.style.display = 'flex';
                    chatbotWindow.style.animation = 'slideIn 0.3s ease-out';
                } else {
                    chatbotWindow.style.display = 'none';
                }
            }

            handleKeyPress(event) {
                if (event.key === 'Enter') {
                    this.sendMessage();
                }
            }

            sendMessage() {
                const input = document.getElementById('chatbotInput');
                const message = input.value.trim();

                if (message) {
                    this.addMessage('user', message);
                    this.processMessage(message);
                    input.value = '';
                }
            }

            addMessage(type, content) {
                const message = {
                    type: type,
                    content: content,
                    timestamp: new Date()
                };

                this.messages.push(message);
                this.displayMessage(message);
                this.saveChatHistory();
            }

            displayMessage(message) {
                const messagesContainer = document.getElementById('chatbotMessages');
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${message.type}`;

                const avatar = document.createElement('div');
                avatar.className = 'message-avatar';
                avatar.textContent = message.type === 'user' ? 'U' : 'B';

                const content = document.createElement('div');
                content.className = 'message-content';
                content.textContent = message.content;

                messageDiv.appendChild(avatar);
                messageDiv.appendChild(content);
                messagesContainer.appendChild(messageDiv);

                this.scrollToBottom();
            }

            processMessage(message) {
                this.showTypingIndicator();

                setTimeout(() => {
                    this.hideTypingIndicator();
                    const response = this.getResponse(message);
                    this.addMessage('bot', response);
                }, 1000 + Math.random() * 1000); // Random delay to simulate thinking
            }

            getResponse(message) {
                const lowerMessage = message.toLowerCase();

                // Check each knowledge base category
                for (const [category, data] of Object.entries(this.knowledgeBase)) {
                    if (category === 'default') continue;

                    for (const keyword of data.keywords) {
                        if (lowerMessage.includes(keyword)) {
                            const responses = data.responses;
                            return responses[Math.floor(Math.random() * responses.length)];
                        }
                    }
                }

                // Return default response
                const defaultResponses = this.knowledgeBase.default.responses;
                return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
            }

            showTypingIndicator() {
                const typingIndicator = document.getElementById('typingIndicator');
                typingIndicator.style.display = 'flex';
                this.scrollToBottom();
            }

            hideTypingIndicator() {
                const typingIndicator = document.getElementById('typingIndicator');
                typingIndicator.style.display = 'none';
            }

            scrollToBottom() {
                const messagesContainer = document.getElementById('chatbotMessages');
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }

            saveChatHistory() {
                localStorage.setItem('dealSnatcherChatHistory', JSON.stringify(this.messages));
            }

            loadChatHistory() {
                const savedHistory = localStorage.getItem('dealSnatcherChatHistory');
                if (savedHistory) {
                    this.messages = JSON.parse(savedHistory);
                    // Display all messages except the welcome message
                    this.messages.forEach(message => {
                        if (message.content !== "Hi! I'm the Deal-Snatcher bot. I can help you with:") {
                            this.displayMessage(message);
                        }
                    });
                }
            }
        }

        // Initialize chatbot when page loads
        let chatbot;
        document.addEventListener('DOMContentLoaded', function () {
            chatbot = new DealSnatcherChatbot();
        });

        // Global functions for HTML onclick events
        function toggleChatbot() {
            chatbot.toggleChatbot();
        }

        function sendMessage() {
            chatbot.sendMessage();
        }

        function handleKeyPress(event) {
            chatbot.handleKeyPress(event);
        }
    </script>
    <script>
        // Load apps data from JSON file
        let apps = [];

        // Check for direct item access from search
        function checkForDirectItemAccess() {
            const urlParams = new URLSearchParams(window.location.search);
            const itemName = urlParams.get('item');

            if (itemName) {
                // Find the item in the loaded data
                const allItems = [
                    ...apps,
                    ...creditCards,
                    ...debitCards,
                    ...loans
                ];

                const foundItem = allItems.find(item =>
                    item.name.toLowerCase().includes(itemName.toLowerCase()) ||
                    itemName.toLowerCase().includes(item.name.toLowerCase())
                );

                if (foundItem) {
                    // Open the modal for the found item
                    setTimeout(() => {
                        openAppModal(foundItem);
                    }, 500); // Small delay to ensure page is loaded
                }
            }
        }

        // Function to load all earning opportunities from JSON
        async function loadAppsData() {
            try {
                const response = await fetch('earn.json');
                const data = await response.json();
                // Combine all categories into one array
                apps = [
                    ...(data.apps || []),
                    ...(data.creditCards || []),
                    ...(data.debitCards || []),
                    ...(data.loans || [])
                ];
                loadApps(); // Display cards after loading data
                checkForDirectItemAccess(); // Check for direct item access
            } catch (error) {
                console.error('Error loading earning data:', error);
                // Fallback to empty array if JSON fails to load
                apps = [];
                loadApps();
            }
        }

        // Show all earn together
        let currentFilter = 'all'; // Show all earn

        // Apps data (fallback - will be replaced by JSON data)
        const fallbackApps = [
            {
                id: 1,
                name: "PhonePe",
                logo: "https://via.placeholder.com/150x150/6C63FF/FFFFFF?text=PP",
                description: "India's leading digital payments platform. Send money, pay bills, recharge, and shop online with ease.",
                rating: 4.5,
                reviews: 1250000,
                reward: 100,
                platform: "Android & iOS",
                payment: "UPI, Bank Transfer",
                minimum: 50,
                support: "24/7 WhatsApp",
                downloadLink: "https://phon.pe/your-referral-code",
                features: [
                    "Instant money transfers",
                    "Bill payments & recharges",
                    "Online shopping",
                    "Insurance & investments",
                    "Gold & mutual funds"
                ],
                earningSteps: [
                    "Download PhonePe using our referral link",
                    "Complete your KYC verification",
                    "Make your first transaction",
                    "Receive ₹100 in your account",
                    "Start earning more with referrals"
                ],
                terms: [
                    "Valid for new users only",
                    "Minimum transaction of ₹100 required",
                    "Reward credited within 24 hours",
                    "One reward per user",
                    "Terms may vary by region"
                ]
            },
            {
                id: 2,
                name: "Google Pay",
                logo: "https://via.placeholder.com/150x150/4285F4/FFFFFF?text=GP",
                description: "Google's digital wallet and payment platform. Pay friends, shop online, and manage your finances.",
                rating: 4.3,
                reviews: 980000,
                reward: 150,
                platform: "Android & iOS",
                payment: "UPI, Bank Transfer",
                minimum: 100,
                support: "24/7 Chat Support",
                downloadLink: "https://gpay.app/your-referral-code",
                features: [
                    "Quick payments",
                    "Online shopping",
                    "Bill payments",
                    "Cashback offers",
                    "Investment options"
                ],
                earningSteps: [
                    "Install Google Pay via our link",
                    "Add your bank account",
                    "Complete verification",
                    "Make first payment",
                    "Get ₹150 reward instantly"
                ],
                terms: [
                    "New users only",
                    "First transaction minimum ₹200",
                    "Reward in 48 hours",
                    "Valid for 30 days",
                    "Subject to Google's terms"
                ]
            },
            {
                id: 3,
                name: "Paytm",
                logo: "https://via.placeholder.com/150x150/00BAF2/FFFFFF?text=PT",
                description: "India's largest mobile payment platform. Recharge, pay bills, book tickets, and shop online.",
                rating: 4.2,
                reviews: 2100000,
                reward: 75,
                platform: "Android & iOS",
                payment: "UPI, Wallet, Bank",
                minimum: 25,
                support: "24/7 Phone Support",
                downloadLink: "https://paytm.com/your-referral-code",
                features: [
                    "Mobile recharges",
                    "Bill payments",
                    "Movie tickets",
                    "Flight bookings",
                    "Online shopping"
                ],
                earningSteps: [
                    "Download Paytm app",
                    "Sign up with mobile number",
                    "Add money to wallet",
                    "Complete first transaction",
                    "Earn ₹75 reward"
                ],
                terms: [
                    "New user registration",
                    "Minimum wallet add ₹100",
                    "Reward in 24 hours",
                    "One-time offer",
                    "Valid for 7 days"
                ]
            },
            {
                id: 4,
                name: "CRED",
                logo: "https://via.placeholder.com/150x150/00D4AA/FFFFFF?text=CR",
                description: "Credit card bill payment app that rewards you for paying bills on time. Earn CRED coins and rewards.",
                rating: 4.6,
                reviews: 450000,
                reward: 200,
                platform: "Android & iOS",
                payment: "UPI, Credit Card",
                minimum: 1000,
                support: "Email Support",
                downloadLink: "https://cred.club/your-referral-code",
                features: [
                    "Credit card payments",
                    "CRED coins rewards",
                    "Credit score tracking",
                    "Exclusive offers",
                    "Premium memberships"
                ],
                earningSteps: [
                    "Download CRED app",
                    "Link your credit card",
                    "Pay your first bill",
                    "Complete verification",
                    "Get ₹200 reward"
                ],
                terms: [
                    "Credit card required",
                    "Minimum bill ₹1000",
                    "Reward in 72 hours",
                    "Valid for premium users",
                    "Subject to credit approval"
                ]
            },
            {
                id: 5,
                name: "Mobikwik",
                logo: "https://via.placeholder.com/150x150/FF6900/FFFFFF?text=MK",
                description: "Digital wallet and payment platform. Recharge, pay bills, book tickets, and earn cashback.",
                rating: 4.1,
                reviews: 320000,
                reward: 50,
                platform: "Android & iOS",
                payment: "UPI, Wallet, Cards",
                minimum: 50,
                support: "24/7 Chat",
                downloadLink: "https://mobikwik.com/your-referral-code",
                features: [
                    "Mobile recharges",
                    "Bill payments",
                    "Movie tickets",
                    "Flight bookings",
                    "Cashback rewards"
                ],
                earningSteps: [
                    "Install Mobikwik app",
                    "Create account",
                    "Add money to wallet",
                    "Make first payment",
                    "Receive ₹50 reward"
                ],
                terms: [
                    "New user only",
                    "Minimum wallet add ₹100",
                    "Reward in 24 hours",
                    "One-time bonus",
                    "Valid for 15 days"
                ]
            },
            {
                id: 6,
                name: "Freecharge",
                logo: "https://via.placeholder.com/150x150/00B4DB/FFFFFF?text=FC",
                description: "Quick recharge and bill payment platform. Get instant recharges and pay bills with cashback.",
                rating: 4.0,
                reviews: 180000,
                reward: 25,
                platform: "Android & iOS",
                payment: "UPI, Cards, Wallet",
                minimum: 25,
                support: "Email Support",
                downloadLink: "https://freecharge.in/your-referral-code",
                features: [
                    "Instant recharges",
                    "Bill payments",
                    "Cashback offers",
                    "Online shopping",
                    "Gift cards"
                ],
                earningSteps: [
                    "Download Freecharge",
                    "Sign up with mobile",
                    "Complete verification",
                    "Make first recharge",
                    "Get ₹25 cashback"
                ],
                terms: [
                    "New registration",
                    "Minimum recharge ₹50",
                    "Cashback in 2 hours",
                    "One-time offer",
                    "Valid for 30 days"
                ]
            }
        ];

        // Load apps
        function loadApps() {
            const appsGrid = document.getElementById('appsGrid');

            // Show all earn together
            appsGrid.innerHTML = '';

            apps.forEach(app => {
                const appCard = document.createElement('div');
                appCard.className = 'bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow cursor-pointer';
                appCard.onclick = () => openAppModal(app);
                appCard.innerHTML = `
                    <div class="p-6 text-center">
                        <img src="${app.logo}" alt="${app.name}" class="w-20 h-20 mx-auto rounded-2xl mb-4">
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2">${app.name}</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-2">${app.description}</p>
                        <div class="flex items-center justify-center mb-4">
                            <div class="flex text-yellow-400">
                                ${Array.from({ length: 5 }, (_, i) =>
                    `<i class="fas fa-star${i < Math.floor(app.rating) ? '' : ' text-gray-300'}"></i>`
                ).join('')}
                            </div>
                            <span class="ml-2 text-sm text-gray-600 dark:text-gray-400">${app.rating}</span>
                        </div>
                        <div class="bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-3 py-2 rounded-lg">
                            <div class="text-lg font-bold flex items-center justify-center">
                                <i class="fas fa-rupee-sign mr-1"></i>${app.reward}
                            </div>
                            <div class="text-xs flex items-center justify-center">
                                <i class="fas fa-gift mr-1"></i>Referral Reward
                            </div>
                        </div>
                    </div>
                `;
                appsGrid.appendChild(appCard);
            });
        }

        // Helper functions for share and copy functionality
        function copyToClipboard(text) {
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(text).then(() => {
                    console.log('Link copied to clipboard');
                }).catch(err => {
                    console.error('Failed to copy: ', err);
                    fallbackCopyTextToClipboard(text);
                });
            } else {
                fallbackCopyTextToClipboard(text);
            }
        }

        function fallbackCopyTextToClipboard(text) {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            textArea.style.top = "0";
            textArea.style.left = "0";
            textArea.style.position = "fixed";
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            try {
                document.execCommand('copy');
                console.log('Link copied to clipboard (fallback)');
            } catch (err) {
                console.error('Fallback: Oops, unable to copy', err);
            }
            document.body.removeChild(textArea);
        }

        function showCopyFeedback(button) {
            const originalText = button.innerHTML;
            button.innerHTML = '<i class="fas fa-check mr-1"></i>Copied!';
            button.classList.add('bg-green-500', 'hover:bg-green-600');
            button.classList.remove('bg-blue-500', 'hover:bg-blue-600');

            setTimeout(() => {
                button.innerHTML = originalText;
                button.classList.remove('bg-green-500', 'hover:bg-green-600');
                button.classList.add('bg-blue-500', 'hover:bg-blue-600');
            }, 2000);
        }

        // Open app modal
        function openAppModal(app) {
            // Set app info
            document.getElementById('modalAppName').textContent = app.name;
            document.getElementById('modalAppLogo').src = app.logo;
            document.getElementById('modalAppDescription').textContent = app.description;
            document.getElementById('modalRewardAmount').textContent = app.reward;
            document.getElementById('modalEarnAmount').textContent = app.reward;
            document.getElementById('modalPlatform').textContent = app.platform;
            document.getElementById('modalPayment').textContent = app.payment;
            document.getElementById('modalMinimum').textContent = `₹${app.minimum}`;
            document.getElementById('modalSupport').textContent = app.support;
            // Set referral code
            document.getElementById('referralCode').textContent = app.referralCode || 'N/A';

            // Set rating
            const ratingElement = document.getElementById('modalAppRating');
            const rating = Math.floor(app.rating);
            ratingElement.innerHTML = '';
            for (let i = 0; i < 5; i++) {
                const star = document.createElement('i');
                star.className = i < rating ? 'fas fa-star' : 'far fa-star';
                ratingElement.appendChild(star);
            }
            document.getElementById('modalAppRatingText').textContent = `${app.rating} out of 5 (${app.reviews.toLocaleString()} reviews)`;

            // Set features
            const featuresElement = document.getElementById('modalAppFeatures');
            featuresElement.innerHTML = '';
            app.features.forEach(feature => {
                const li = document.createElement('li');
                li.innerHTML = `<i class="fas fa-check text-green-500 mr-2"></i>${feature}`;
                featuresElement.appendChild(li);
            });

            // Set earning steps
            const stepsElement = document.getElementById('modalEarningSteps');
            stepsElement.innerHTML = '';
            app.earningSteps.forEach((step, index) => {
                const div = document.createElement('div');
                div.className = 'flex items-start space-x-3';

                // Modify first step to include referral code
                let stepText = step;
                if (index === 0 && app.referralCode) {
                    stepText = step.replace('our link', `our link (Code: ${app.referralCode})`);
                }

                div.innerHTML = `
                    <div class="flex-shrink-0 w-6 h-6 bg-primary-500 text-white rounded-full flex items-center justify-center text-sm font-semibold">
                        ${index + 1}
                    </div>
                    <p class="text-gray-600 dark:text-gray-400">${stepText}</p>
                `;
                stepsElement.appendChild(div);
            });

            // Set terms
            const termsElement = document.getElementById('modalTerms');
            termsElement.innerHTML = '';
            app.terms.forEach(term => {
                const li = document.createElement('li');
                li.innerHTML = `<i class="fas fa-info-circle text-blue-500 mr-2"></i>${term}`;
                termsElement.appendChild(li);
            });

            // Set download link and button text based on type
            const downloadBtn = document.getElementById('downloadBtn');
            downloadBtn.href = app.downloadLink;
            downloadBtn.target = '_blank';
            downloadBtn.rel = 'noopener noreferrer';

            // Update button text based on type
            let buttonText = 'Download & Earn';
            let buttonIcon = 'fas fa-download';

            if (app.type === 'creditCard' || app.type === 'debitCard') {
                buttonText = 'Apply Now & Earn';
                buttonIcon = 'fas fa-credit-card';
            } else if (app.type === 'loan') {
                buttonText = 'Apply for Loan & Earn';
                buttonIcon = 'fas fa-hand-holding-usd';
            }

            downloadBtn.innerHTML = `<i class="${buttonIcon} mr-2"></i>${buttonText}`;



            // Copy referral code functionality
            const copyRefCodeBtn = document.getElementById('copyRefCodeBtn');
            copyRefCodeBtn.onclick = () => {
                const referralCode = app.referralCode || 'N/A';
                copyToClipboard(referralCode);
                showCopyFeedback(copyRefCodeBtn);
            };

            // Show modal
            const appModal = document.getElementById('appModal');
            appModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        // Close app modal
        function closeAppModal() {
            const appModal = document.getElementById('appModal');
            appModal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        // Theme management
        function initTheme() {
            const themeToggle = document.getElementById('themeToggle');
            const themeIcon = document.getElementById('themeIcon');

            // Check for saved theme preference or default to system preference
            const savedTheme = localStorage.getItem('theme');
            const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const currentTheme = savedTheme || (systemPrefersDark ? 'dark' : 'light');

            if (currentTheme === 'dark') {
                document.documentElement.classList.add('dark');
                themeIcon.className = 'fas fa-sun';
                themeToggle.checked = true;
                updateToggleSwitch(true);
            } else {
                document.documentElement.classList.remove('dark');
                themeIcon.className = 'fas fa-moon';
                themeToggle.checked = false;
                updateToggleSwitch(false);
            }
        }

        function toggleTheme() {
            const themeToggle = document.getElementById('themeToggle');
            const themeIcon = document.getElementById('themeIcon');
            const isDark = themeToggle.checked;

            document.documentElement.classList.toggle('dark', isDark);
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            themeIcon.className = isDark ? 'fas fa-sun' : 'fas fa-moon';
            updateToggleSwitch(isDark);
        }

        function updateToggleSwitch(isDark) {
            const themeToggle = document.getElementById('themeToggle');
            const toggleTrack = themeToggle.nextElementSibling.querySelector('.relative > div:first-child');
            const toggleThumb = themeToggle.nextElementSibling.querySelector('.relative > div:last-child');

            if (isDark) {
                toggleTrack.className = 'w-12 h-6 bg-blue-600 rounded-full shadow-inner transition-colors duration-300 ease-in-out';
                toggleThumb.className = 'absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-6';
            } else {
                toggleTrack.className = 'w-12 h-6 bg-gray-600 rounded-full shadow-inner transition-colors duration-300 ease-in-out';
                toggleThumb.className = 'absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow transition-transform duration-300 ease-in-out transform translate-x-0';
            }
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function () {
            initTheme(); // Initialize theme first
            loadAppsData(); // Load data from JSON first, then display

            // Listen for system theme changes
            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
                // Only update if user hasn't manually set a preference
                if (!localStorage.getItem('theme')) {
                    initTheme();
                }
            });

            // Modal event listeners
            const closeModalBtn = document.getElementById('closeAppModalBtn');
            const appModal = document.getElementById('appModal');

            if (closeModalBtn) {
                closeModalBtn.addEventListener('click', closeAppModal);
            }
            if (appModal) {
                appModal.addEventListener('click', (e) => {
                    if (e.target === appModal) {
                        closeAppModal();
                    }
                });
            }

            // Toggle button event listeners removed - showing all earn together

            // Theme toggle event listener
            const themeToggle = document.getElementById('themeToggle');
            if (themeToggle) {
                themeToggle.addEventListener('click', toggleTheme);
            }

            // Close modal with Escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && !appModal.classList.contains('hidden')) {
                    closeAppModal();
                }
            });

            // Mobile menu toggle
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const mobileMenu = document.getElementById('mobileMenu');

            if (mobileMenuBtn && mobileMenu) {
                mobileMenuBtn.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });
            }

            // Search functionality
            const navSearchInput = document.getElementById('navSearchInput');
            if (navSearchInput) {
                navSearchInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        const query = navSearchInput.value.trim();
                        if (query) {
                            window.location.href = `/?search=${encodeURIComponent(query)}`;
                        }
                    }
                });
            }
        });

        // Initialize AdSense
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</body>

</html>